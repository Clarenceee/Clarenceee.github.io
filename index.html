<html>
<head>
  <meta http-equiv="refresh" content="60">
  <title>Extract Sensor</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
  <script type="text/javascript">
	var x = document.getElementById("demo");
	var y = document.getElementById("demo2");
	var acl = new Accelerometer({frequency:60});
	  
	function getLocation() {
 	if (navigator.geolocation) {
    	navigator.geolocation.getCurrentPosition(showPosition);
		//navigator.geolocation.watchPosition(showPosition);
  	} else {
   	demo.innerHTML = "Geolocation is not supported by this browser.";
  	}
	}

	function showPosition(position) {
   
 	demo.innerHTML = "Latitude: " + position.coords.latitude +
  	"<br>Longitude: " + position.coords.longitude +
	"<br>Heading: " + position.coords.heading;
	}
	  
	function getAcceleration(){
	

		console.log(acl);
		acl.addEventListener('reading', () => {
		demo2.innerHTML ="Acceleration along the X-axis " + acl.x + 
		"<br>Acceleration along the Y-axis " + acl.y +
		"<br>Acceleration along the Z-axis " + acl.z;
		});
		acl.start();
	}
	navigator.connection.addEventListener('change', logNetworkInfo);

	function logNetworkInfo() {	
	
		console.log('         type: ' + navigator.connection.type);
		console.log('     downlink: ' + navigator.connection.downlink + ' Mb/s');
		console.log('          rtt: ' + navigator.connection.rtt + ' ms');
		console.log('  downlinkMax: ' + navigator.connection.downlinkMax + ' Mb/s');
		console.log('effectiveType: ' + navigator.connection.effectiveType);
		console.log('     saveData: ' + navigator.connection.saveData);
		console.log(window.navigator);
		console.log('');
	}
	  
	function getOrientation() {
		if (window.DeviceOrientationEvent) {
			window.addEventListener('deviceorientation', deviceOrientationHandler, false);
			document.getElementById("").innerText = "Supported!";
		}
	}
	
  </script>
</head>
<body>
	<h1>TRC3000</h1>
	<div id="demo">Loading Location...</div> 
	<div id="demo2">Loading Acceleration...</div> 
	<div id="demo3">Loading Orientation...</div> 
	
	<script>
		getLocation();
		getAcceleration();
		logNetworkInfo();
	</script>
</body>
</html>
