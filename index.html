<html>
<head>
  <title>Extract Sensor</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
  <script type="text/javascript">
	var x = document.getElementById("demo");
	var y = document.getElementById("demo2");
	var acl = new Accelerometer({frequency:60});
	  
	function getLocation() {
 	if (navigator.geolocation) {
    	//navigator.geolocation.getCurrentPosition(showPosition);
		navigator.geolocation.watchPosition(showPosition);
  	} else {
   	demo.innerHTML = "Geolocation is not supported by this browser.";
  	}
	}

	function showPosition(position) {
 	demo.innerHTML = "Latitude: " + position.coords.latitude +
  	"<br>Longitude: " + position.coords.longitude + "<br>Speed: " + position.coords.speed +
	"<br>Orientation: " +position.coords.heading;
	}
	  
	function getAcceleration(){
	
		acl.start();
		if (accelerometer.activated) {
		console.log("HERE");
		acl.addEventListener('reading', () => {
		demo2.innerHTML ="Acceleration along the X-axis " + acl.x + 
		"<br>Acceleration along the Y-axis " + acl.y +
		"<br>Acceleration along the Z-axis " + acl.z;
		});
		}
		else { 
		demo2.innerHTML = "Accelerometer not activated.";
		}
	}
	  
  </script>
</head>
<body>
	<h1>TRC3000</h1>
	<div id="demo">Loading Location...</div> 
	<div id="demo2">Loading Acceleration...</div> 
	
	<script>
		getLocation();
		getAcceleration();
	</script>
</body>
</html>
